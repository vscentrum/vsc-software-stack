easyblock = 'PythonBundle'

name = 'Single-cell-python-bundle'
version = '2024.02'

homepage = 'xxx'
description = """Bundle for single-cell ???"""

toolchain = {'name': 'foss', 'version': '2023a'}

dependencies = [
    ('Python', '3.11.3'),
    ('Python-bundle-PyPI', '2023.06'),
    ('SciPy-bundle', '2023.07'),
    ('matplotlib', '3.7.2'),
    ('Seaborn', '0.13.2'),
    ('PyTorch', '2.1.2'),
    ('scanpy', '1.9.8'),
    # scvi-tools TODO
    # scArches TODO
    # scib-metrics TODO
    ('scib', '1.1.4'),
    ('scVelo', '0.3.1'),  # imports loompy
    ('CellTypist', '1.6.2'),
    # loompy in scVelo
    ('epiScanpy', '0.4.0'),
    ('CellRank', '2.0.2'),
    ('scCODA', '0.1.9'),  # imports rpy2
    # rpy2 in scCODA
    ('infercnvpy', '4.0.3'),
    ('pySCENIC', '0.12.1-20240311'),
    ('Squidpy', '1.4.1'),
    ('umap-learn', '0.5.5'),  # bbknn dep
    ('scikit-learn', '1.3.1'),  # bbknn dep
]

# DEPS to add:
# Anndata2ri
# Cassiopeia
# Sc_toolbox
# Altair
# Pertpy
# Tasccoda
# Liana-py 
# Harmonypy
# Scirpy
# CellPhoneDB
# Decoupler
# contrastiveVI
# Schist

exts_list = [
    ('pynndescent', '0.5.11'),
    ('annoy', '1.17.3'),
    ('bbknn', '1.6.0'),  # requested
]

moduleclass = 'bio'
