easyblock = 'PythonBundle'

name = 'POT'
version = '0.9.4'

homepage = 'https://github.com/rflamary/POT'
description = """POT (Python Optimal Transport) is a Python library provide several solvers for optimization problems
 related to Optimal Transport for signal, image processing and machine learning."""

toolchain = {'name': 'foss', 'version': '2023a'}

dependencies = [
    ('Python', '3.11.3'),
    ('matplotlib', '3.7.2'),
    ('scikit-learn', '1.3.1'),
    ('PyTorch', '2.1.2'),
    ('jax', '0.4.25'),
    ('CVXOPT', '1.3.2'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('autograd', '1.7.0', {
        'source_tmpl': SOURCE_PY3_WHL,
        'checksums': ['49680300f842f3a8722b060ac0d3ed7aca071d1ad4d3d38c9fdadafdcc73c30b'],
    }),
    ('versioneer', '0.29', {
        'source_tmpl': SOURCE_PY3_WHL,
        'checksums': ['0f1a137bb5d6811e96a79bb0486798aeae9b9c6efc24b389659cebb0ee396cb9'],
    }),
    ('pymanopt', '2.2.0', {
        'source_tmpl': SOURCE_PY3_WHL,
        'checksums': ['87d044770d3ea271d5a9a56c767a2a9725e6318a07fb5aea6aedb744b13b12bf'],
    }),
    ('%(namelower)s', version, {
        'modulename': 'ot',
        'checksums': ['4cf8b46bf4992c37529161c32dd5e3334e0c089399142f08ed6d455b57015edd'],
    }),
]

moduleclass = 'lib'

# TODO
# ot/lp/emd_wrap.cpp:3389:13: error: PyDataType_ELSIZE was not declared in this scope; did you mean PyDataType_ISSIGNED?
#  3389 |   __pyx_r = PyDataType_ELSIZE(__pyx_v_self);
#       |             ^~~~~~~~~~~~~~~~~
#       |             PyDataType_ISSIGNED
