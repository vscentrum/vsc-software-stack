easyblock = 'JAR'

name = 'GRASP-suite'
version = '2022.7.4'
versionsuffix = '-Java-%(javaver)s'

homepage = 'https://bodenlab.github.io/GRASP-suite/'
description = """GRASP-suite is a collection of tools and tutorials to perform and 
analyse ancestral sequence reconstruction."""

toolchain = SYSTEM

source_urls = ['https://bodenlab.github.io/GRASP-suite/project/graspcmd/archive/']
sources = ['bnkit.jar']
checksums = ['7ee4cbc9f23857c8c7cf3e6bd0dde962d9a244974d955aac92212b5b5e29a385']

dependencies = [('Java', '17')]

postinstallcmds = [
    "mkdir -p %(installdir)s/bin",
    "echo '#!/bin/sh' > %(installdir)s/bin/grasp",
    "echo 'java -jar -Xmx16g %(installdir)s/bnkit.jar $@' >> %(installdir)s/bin/grasp",
    "chmod a+rx %(installdir)s/bin/grasp"
]

sanity_check_commands = ["grasp -h"]

sanity_check_paths = {
    'files': ['bin/grasp', 'bnkit.jar'],
    'dirs': [],
}

moduleclass = 'bio'
